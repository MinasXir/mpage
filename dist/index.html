<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./public/style/style.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"
          integrity="sha512-IQLehpLoVS4fNzl7IfH8Iowfm5+RiMGtHykgZJl9AWMgqx0AmJ6cRWcB+GaGVtIsnC4voMfm8f2vwtY+6oPjpQ=="
          crossorigin="anonymous"></script>
  </head>
  <body>
<div class="links">
  <div route="/about">
    <div route="/about" class="content">
      <h2 route="/about">ABOUT</h2>
    </div>
  </div>
  <div route="/contact">
    <div route="/contact" class="content">
      <h2 route="/contact">CONTACT</h2>
    </div>
  </div>
</div>
<div id="view"></div>
  <div class="intro">
    <div class="intro-text">
      <h1 class="hide">
        <span class="text">Creating inovation</span>
      </h1>
      <h1 class="hide">
        <span class="text">For Everyday</span>
      </h1>
      <h1 class="hide">
        <span class="text">people.</span>
      </h1>
    </div>
  </div>
  <div class="slider"></div>
    <script>
      const tl = gsap.timeline({ defaults: { ease: "power1.out" } });
        tl.to(".text", { y: "0%", duration: 1, stagger: 0.25 });
        tl.to(".slider", { y: "-100%", duration: 1.5, delay: 0.5 });
        tl.to(".intro", { y: "-100%", duration: 1 }, "-=1");
        tl.fromTo(".links > div", { opacity: 0 }, { opacity: 1, duration: 3 }, "-=1");
      function deleteIntro() {
          const intro = document.querySelector(".intro");
          if (intro) intro.remove();
          const slider = document.querySelector(".slider");
          if (slider) slider.remove();
      }
    
      setTimeout(() => {
       deleteIntro()
      }, 3500);

      window.addEventListener("DOMContentLoaded", (event) => {
        //select app view
        const view = document.getElementById("view");
        //select all buttons
        const activeRoutes = Array.from(
          document.querySelectorAll(".links [route]")
        );
        //Function for navigation
        function navigate(eEvent) {
          document.body.classList.remove("hmm");
          const route = eEvent.target.attributes[0].value;
          const routInfo = myFirstRouter.routes.filter((r) => {
            return r.path === route;
          })[0];
          !routInfo
            ? alert("No content here")
            : window.history.pushState({}, "name", routInfo.path);
          routInfo.content()
            ? (view.innerHTML = `<div class="${
                routInfo.class
              }">${routInfo.content()} </div>`)
            : null;
          homeNav();
          if (window.location.pathname === "/about") popUp();
        }
        //click event trigers navigation on videos click
        activeRoutes.forEach((route) => {
          route.addEventListener("click", navigate, true);
        });

        //data constructor
        const Router = function (name, routes) {
          return {
            name: name,
            routes: routes,
          };
        };
        const myFirstRouter = new Router("myFirstRouter", [
          {
            path: "/mpage/",
            name: "Home",
          },

          {
            path: "/about",
            name: "About",
            class: "about",
            content: () => {
              return ` <div class="goHome">&#8678</div>
              <h1>About me</h1>
              <p>My name is Minas, and I'm a front end developer with some backend and linux skills.
                I can create interactive user interfaces for both mobile and desktop with all modern javascript frameworks and libriaries , but I can't hide that I prefer REACT as front end solution. From server side prespective I still keep the javascript stack and use node.js with mongoose in order to talk with a mongoDB database. While software engineering is my favourite IT path , I also enjoy working with totally different fields like ui design , graphic design or IT automation,  linux and docker.</p>
                <br>
              <h1>Skills</h1>
              <div class="skills">
              <div>
              <h3>Coding</h3>
              <p>Javascript, html, css,
             React, Polymer, Angular, jQuerry,
              Node.js, Mongoose, PHP(basic)</p>
              </div>
              <div><h3>Design</h3>
              <p>Photoshop, Illustrator, InDesign,
             Camtasia studio</p></div>
              <div><h3>DevOps</h3>
              <p>Git, Linux, Windows, putty, Ansible, Docker</p></div>
              </div>
              <br>
              <h1>Projects</h1>
              <button ena="ena" id="modal-btn" class="button">Tzika design</button>
              <div id="my-modal" class="modal">
              <div class="modal-content">
              <div class="modal-header">
              <span class="close">&times;</span>
              <h2>subject: portfolio</h2>
              </div>
              <div class="modal-body">
                <div>
              <p>Glykeria Tzika is an interior desginer.She wanted a simple and modern website to showcase her projects. I created it with wordpress and some custom css and javascript. I also used photoshop and illustrator for this project.</p>
              </div>
              <div class="tzika">
                </div>
              </div>
              <div class="modal-footer">
              <h3><a href="https://tzikadesign.gr/" target="blank"> Check the website</a> </h3>
              </div>
              </div>
              </div>
              <button ena="dio" id="modal-btn" class="button">The-benchmark</button>
              <div id="my-modal" class="modal">
              <div class="modal-content">
              <div class="modal-header">
              <span class="close">&times;</span>
              <h2>subject: fashion blog</h2>
              </div>
              <div class="modal-body">
                <div>
              <p>The-benchmark started as a fashion blog and later on, got e-commerce characteristics. I created this website with wordpress cms but also used html5, css3, javascript and Adobe Illustrator.</p>
              </div>
             <div class="maria">
                </div>
              </div>
              <div class="modal-footer">
              <h3><a href="https://the-benchmark.com/" target="blank"> Check the website</a></h3>
              </div>
              </div>
              </div>
              `;
            },
          },
          {
            path: "/contact",
            name: "Contact",
            class: "contact",
            content: () => {
              return `<div class="goHome">&#8678</div>
              <p>Feel free to contact me anytime , I will do my best to reply as soon as possible.<br>
              Send me an email by clicking here <a href="mailto:minasxirak@gmail.com">minasxirak@gmail.com</a><br>
              Or send me a message on the bellow social media
              <br>
              <a href="https://www.linkedin.com/in/minas-xirakias-5578b8135/" target="blank">LinkedIn</a>
                            <a href="https://github.com/MinasXir" target="blank">Github</a>
              </p>
              `;
            },
          },
        ]);
        //Render the correct content based on pathname url
        function renderPage() {
          if (window.location.pathname === "/mpage/") {
            return (view.innerHTML = "");
          }
          if (window.location.pathname === "/about") {
            const welcomeSection = document.querySelector(".welcomeSection");
            if (welcomeSection) {
              welcomeSection.remove();
            }
            return (view.innerHTML = `<div class="${
              myFirstRouter.routes[1].class
            }">${myFirstRouter.routes[1].content()} </div>`);
          }
          if (window.location.pathname === "/contact") {
            const welcomeSection = document.querySelector(".welcomeSection");
            if (welcomeSection) {
              welcomeSection.remove();
            }
            return (view.innerHTML = `<div class="${
              myFirstRouter.routes[2].class
            }">${myFirstRouter.routes[2].content()} </div>`);
          } else alert("No content here");
        }
        renderPage();
        //Link to homepage
        function homeNav() {
          const btns = document.querySelectorAll(".goHome");
          for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener(
              "click",
              () => {
                window.history.pushState({}, "name", "/mpage/");
                document.body.classList.add("hmm");
                renderPage();
              },
              false
            );
          }
        }
        homeNav();
        //back browser button
        function browserbutton() {
          window.addEventListener("popstate", (event) => {
            renderPage();
            homeNav();
            if (window.location.pathname === "/about") popUp()
          });
        }
        browserbutton();
        //modal
        // Get DOM Elements
        function popUp() {
          const modal = document.querySelectorAll(".modal");
          const modalContent = document.querySelector(".modal-content");
          const modalBtn = document.querySelectorAll(".button");
          const closeBtn = document.querySelectorAll(".close");
          // Events
          modalBtn.forEach((mobtn)=>{mobtn.addEventListener("click", openModal)})
          closeBtn.forEach((close) => {
            close.addEventListener("click", closeModal)})
          window.addEventListener("click", outsideClick);
          // Open
          function openModal(e) {
             window.scrollTo(0, 0);
            if(e.target.attributes[0].value === "ena")
            modal[0].style.display = "block";
            if (e.target.attributes[0].value === "dio")
            modal[1].style.display = "block";
          }
          // Close
          function closeModal() {
            modal[0].style.display = "none";
            modal[1].style.display = "none";
          }
          // Close If Outside Click
          function outsideClick(e) {
            if (e.target == modal[0]) {
              modal[0].style.display = "none";
            }
            if (e.target == modal[1]){
              modal[1].style.display = "none";
            }
          }
        }
        if (window.location.pathname === "/about") {
          popUp();
        }

      });
    </script>
  </body>
</html>
